<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>íŠ¸ë¦¼2ë°˜ ì‘ì—… ìŠ¤ì¼€ì¤„ ì¡°íšŒ</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:#f5f5f7}
.header{background:#111;color:#fff;text-align:center;padding:14px 10px;position:sticky;top:0}
.header-title{font-size:20px;font-weight:800;margin-bottom:8px}
.today-btn{padding:8px 18px;border-radius:999px;border:none;background:#0a8a43;color:#fff;font-size:14px}
.container{max-width:960px;margin:auto;padding:14px}
.card{background:#fff;border-radius:14px;padding:12px;margin-bottom:14px;border:1px solid #ddd}
h2{font-size:15px;margin:8px 0}
label{font-size:13px;font-weight:600}
input,select{width:100%;padding:7px;margin:4px 0;border-radius:8px;border:1px solid #ccc}
button.primary{margin-top:6px;padding:8px 14px;border:none;border-radius:999px;background:#007aff;color:#fff}
.table-wrap{overflow-x:auto;margin-top:8px}
table{border-collapse:collapse;min-width:600px}
th,td{border:1px solid #eee;padding:6px;text-align:center;font-size:13px}
th{background:#fafafa}
.name-col{position:sticky;left:0;background:#fff;font-weight:700}
.warning{color:#c00;font-size:13px;margin-top:6px}
.result{font-size:14px;margin-top:6px}
.help-btn{position:fixed;right:14px;bottom:14px;width:42px;height:42px;border-radius:50%;border:none;background:#007aff;color:#fff;font-size:18px}
</style>
</head>

<body>

<header class="header">
  <div class="header-title">íŠ¸ë¦¼2ë°˜ ì‘ì—… ìŠ¤ì¼€ì¤„ ì¡°íšŒ</div>
  <button class="today-btn" onclick="goToday()">ğŸ“‹ íŠ¹ê·¼ ì°¸ì—¬ ì¡°ì‚¬</button>
</header>

<div class="container">

<!-- â‘  -->
<div class="card">
<h2>â‘  ë‚ ì§œ + ë¼ìš´ë“œ + ì‘ì—…ëª… â†’ ë‹´ë‹¹ì</h2>
<input type="date" id="d1">
<select id="r1">
<option value="0">1ë¼ìš´ë“œ</option>
<option value="1">2ë¼ìš´ë“œ</option>
<option value="2">3ë¼ìš´ë“œ</option>
<option value="3">4ë¼ìš´ë“œ</option>
</select>
<select id="t1"></select>
<button class="primary" onclick="findPerson()">ì¡°íšŒ</button>
<div class="warning" id="w1"></div>
<div class="result" id="res1"></div>
</div>

<!-- â‘¡ -->
<div class="card">
<h2>â‘¡ ë‚ ì§œ + ì‘ì—…ì â†’ ê°œì¸ ì‘ì—…</h2>
<input type="date" id="d2">
<select id="p2"></select>
<button class="primary" onclick="findPersonal()">ì¡°íšŒ</button>
<div class="warning" id="w2"></div>
<div class="result" id="res2"></div>
</div>

<!-- â‘¢ -->
<div class="card">
<h2>â‘¢ í•˜ë£¨ ì „ì²´ ìŠ¤ì¼€ì¤„</h2>
<input type="date" id="d3">
<button class="primary" onclick="renderDay()">ì¡°íšŒ</button>
<div class="warning" id="w3"></div>
<div class="table-wrap">
<table>
<thead>
<tr><th class="name-col">ì´ë¦„</th><th>1</th><th>2</th><th>3</th><th>4</th></tr>
</thead>
<tbody id="tb"></tbody>
</table>
</div>
</div>

</div>

<button class="help-btn" onclick="alert('ë§Œë“ ì‚¬ëŒ : ê¹€ì´ìŠ¬')">?</button>

<script>
/* ===== ì„¤ì • ===== */
const START = new Date("2026-01-05");

/* íœ´ë¬´ì¼ (ëª…ì ˆ ë“±) */
const HOLIDAYS = [
  "2026-02-16","2026-02-17","2026-02-18"
];

/* ì‘ì—…ì */
const names = [
"ì˜í›ˆ","ê°‘ìˆ˜","ê¸°ë°±","ìš°ë¹ˆ","ìŠ¹í˜¸","ì›…ê¸°","í•™í˜„","ë²”ì„±","ì„±í•´","ì‘ê·œ",
"ì˜í™˜","ìƒê±´","ì¬ë•","ì˜¥ì—°","ìˆ˜ì‹ ","ì˜¤ì±„","ì€ìš°","ì •í›ˆ","ìš©ë‚¨","ì„±í›ˆ",
"ì›ë¹ˆ","ê¸¸ìš´","ëŒ€í˜„","ì§„ì†”","ì„œì§„","ì´ìŠ¬","ë¯¼êµ­","ì„±ì²œ","ì¶©í›ˆ"
];

/* ì‘ì—… */
const tasks = [
"LH íœ€ë‹¤","LH Bí•„ë¼","Lì—ì–´ë°±íˆ¬ì…","2ì¡°1ë²ˆ","LH Cí•„ë¼","SKì£¼ìœ êµ¬","ë©¤ë²„ì–´ìŠ¤",
"LH Aí•„ë¼","ë§ˆìŠ¤í„°ë°±","Lë„ì–´íƒˆê±°","ë‚š1","ë²”í¼ê°€ì´ë“œ","2ì¡°2ë²ˆ","ASì»¤ë²„",
"LH ë£¨1","LH ë£¨2","RH íœ€ë‹¤","RH Bí•„ë¼","Rì—ì–´ë°±íˆ¬ì…","RH Cí•„ë¼",
"R Aí•„ë¼","í›„ë“œ","3ì¡°1ë²ˆ","í•˜ì´ë“œë¡œë‹‰ì²´ê²°","ë‚š2","ì—”ì§„ì–´ìŠ¤",
"3ì¡°2ë²ˆ","RH ë£¨1","RH ë£¨2"
];

/* ê¸°ì¤€ì¼ ì‘ì—… (1/5) */
const anchor = {
 "ì´ìŠ¬":["ì—”ì§„ì–´ìŠ¤","3ì¡°2ë²ˆ","RH ë£¨1","RH ë£¨2"]
};

/* ===== ìœ í‹¸ ===== */
const iso=d=>d.toISOString().slice(0,10);
const isWork=d=>d>=START && d.getDay()!=0 && !HOLIDAYS.includes(iso(d));

function workIndex(d){
 let i=0,cur=new Date(START);
 while(cur<d){ if(isWork(cur)) i++; cur.setDate(cur.getDate()+1); }
 return i;
}

/* ===== ìŠ¤ì¼€ì¤„ ===== */
function getSchedule(d){
 if(!isWork(d)) return null;
 const idx=workIndex(d)*4;
 return names.map((n,i)=>{
   let base = anchor[n] ?? tasks.map((_,k)=>tasks[(i+k)%tasks.length]).slice(0,4);
   let all=[];
   for(let k=0;k<4;k++) all.push(tasks[(tasks.indexOf(base[0])+idx+k)%tasks.length]);
   return {n,all};
 });
}

/* ===== ê¸°ëŠ¥ ===== */
function renderDay(){
 const d=new Date(d3.value); tb.innerHTML=""; w3.textContent="";
 if(!isWork(d)) return w3.textContent="ê·¼ë¬´ì¼ ì•„ë‹˜";
 getSchedule(d).forEach(r=>{
  tb.innerHTML+=`<tr><td class="name-col">${r.n}</td>${r.all.map(x=>`<td>${x}</td>`).join("")}</tr>`;
 });
}

function findPerson(){
 const d=new Date(d1.value),r=r1.value,t=t1.value;
 w1.textContent=""; res1.textContent="";
 if(!isWork(d)) return w1.textContent="ê·¼ë¬´ì¼ ì•„ë‹˜";
 getSchedule(d).forEach(x=>{
  if(x.all[r]==t) res1.textContent=`ë‹´ë‹¹ì : ${x.n}`;
 });
}

function findPersonal(){
 const d=new Date(d2.value),p=p2.value;
 w2.textContent=""; res2.textContent="";
 if(!isWork(d)) return w2.textContent="ê·¼ë¬´ì¼ ì•„ë‹˜";
 const r=getSchedule(d).find(x=>x.n==p);
 res2.innerHTML=r.all.map((v,i)=>`${i+1}R : ${v}`).join("<br>");
}

function goToday(){
 const t=new Date();
 d1.value=d2.value=d3.value=iso(t);
}

/* init */
names.forEach(n=>p2.innerHTML+=`<option>${n}</option>`);
tasks.forEach(t=>t1.innerHTML+=`<option>${t}</option>`);
goToday();
</script>

</body>
</html>