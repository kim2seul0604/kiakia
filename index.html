<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê¸°ì•„ 12ì›” ì‘ì—… ìŠ¤ì¼€ì¤„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --kia-red: #c4171d;
      --kia-dark: #111111;
      --kia-gray: #f5f5f7;
      --kia-border: #dddddd;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--kia-gray);
      margin: 0;
      padding: 0;
      color: #222;
      position: relative;
  overflow-x: hidden;
}
    }
    .christmas-bg-tree {
  position: fixed;
  right: 5%;         /* í™”ë©´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ 5% */
  bottom: 5%;        /* í™”ë©´ ì•„ë˜ìª½ì—ì„œ 5% ì˜¬ë¼ì˜¨ ìœ„ì¹˜ */
  font-size: 140px;  /* í¬ê¸° í¬ê²Œ */
  opacity: 0.07;     /* ì—°í•˜ê²Œ (0 ~ 1 ì‚¬ì´) */
  pointer-events: none; /* í´ë¦­ ë§‰ì§€ ì•Šë„ë¡ */
  z-index: 0;        /* ì œì¼ ë’¤ë¡œ ë³´ë‚´ê¸° */
}
   .header {
  position: relative;
  z-index: 2;
}

.container {
  position: relative;
  z-index: 2;
}
      
    .snowflake {
  position: fixed;
  top: -10vh;
  color: #ffffff;
  font-size: 12px;
  opacity: 0.8;
  pointer-events: none;
  z-index: 3;
  animation-name: snow-fall;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

@keyframes snow-fall {
  0% {
    transform: translateY(-10vh);
  }
  100% {
    transform: translateY(110vh);
  }
}

/* í—¤ë”/ì»¨í…Œì´ë„ˆëŠ” ë‚´ìš©ì´ íŠ¸ë¦¬ ìœ„ë¡œ ì˜¤ê²Œ z-indexë§Œ ì‚´ì§ ì˜¬ë ¤ì¤˜ë„ ì¢‹ì•„ìš” */
.header {
  z-index: 2;
  position: relative;
}

.container {
  z-index: 2;
  position: relative;
}
    .header {
      background: linear-gradient(135deg, var(--kia-dark), #222);
      color: white;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 12px rgba(0,0,0,0.35);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .header-left {
      display: flex;
      flex-direction: column;
    }
    .header-title {
  font-size: 22px; /* â† ë” í¬ê²Œ */
  font-weight: 800;
  margin-bottom: 14px;
  width: 100%;       /* â† ë„“ì´ë¥¼ ì „ì²´ë¡œ */
  text-align: center; /* â† í™•ì‹¤í•˜ê²Œ ê°€ìš´ë° ì •ë ¬ */
    }
    .header-center {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center; /* â† flexê¸°ì¤€ ê°€ìš´ë° ì •ë ¬ */
}
    .today-btn-center {
  padding: 8px 16px;
  border-radius: 999px;
  border: none;
  background: #007aff;
  color: #fff;
  font-size: 14px;
  cursor: pointer;
  display: inline-block; /* â† ë²„íŠ¼ ìì²´ë¥¼ ì¸ë¼ì¸ ë¸”ë¡ìœ¼ë¡œ */
  margin: 0 auto;        /* â† ê°€ë¡œ ìë™ ê°€ìš´ë° ì •ë ¬ */
}
    .kia-logo-text {
      font-size: 20px;
      font-weight: 800;
      letter-spacing: 0.14em;
      text-transform: uppercase;
    }
    .header-subtitle {
      font-size: 12px;
      color: #cccccc;
      margin-top: 2px;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .today-btn {
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid #ffffff55;
      background: var(--kia-red);
      color: #fff;
      font-size: 13px;
      cursor: pointer;
      white-space: nowrap;
    }
    .today-btn:hover {
      background: #a31218;
    }
    .today-btn:active {
      transform: scale(0.97);
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 12px;
    }

    h1 {
      font-size: 20px;
      margin: 4px 0 6px;
      color: var(--kia-dark);
    }
    h2 {
      font-size: 16px;
      margin-top: 18px;
      margin-bottom: 8px;
      color: var(--kia-dark);
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 12px 14px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.04);
      margin-bottom: 14px;
      border: 1px solid var(--kia-border);
    }
    label {
      font-size: 14px;
      font-weight: 600;
      margin-right: 4px;
      display: inline-block;
      margin-bottom: 4px;
    }
    input[type="date"],
    select {
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      margin-right: 4px;
      margin-bottom: 6px;
      max-width: 100%;
      box-sizing: border-box;
    }
    button {
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      background: var(--kia-red);
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      margin-top: 4px;
    }
    button:active {
      transform: scale(0.98);
    }
    button:hover {
      background: #a31218;
    }
    .info {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }
    .warning {
      font-size: 13px;
      color: #c00;
      margin-top: 8px;
    }
    .table-wrapper {
      width: 100%;
      overflow-x: auto;
      margin-top: 8px;
      border-radius: 12px;
      border: 1px solid #eee;
    }
    table {
      min-width: 600px;
      border-collapse: collapse;
      font-size: 12px;
      background: #fff;
    }
    th, td {
      border-bottom: 1px solid #eee;
      padding: 6px 8px;
      text-align: left;
      white-space: nowrap;
    }
    th {
      background: #fafafa;
      position: sticky;
      top: 0;
      z-index: 1;
    }
    .result {
      margin-top: 8px;
      font-size: 14px;
      font-weight: 600;
      line-height: 1.4;
    }
    .result span.name {
      color: #007aff;
    }
    .weekday-label {
      font-size: 12px;
      color: #555;
      margin-left: 4px;
    }

    @media (max-width: 600px) {
      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
      .header-right {
        width: 100%;
        justify-content: flex-start;
      }
      .today-btn {
        width: auto;
      }
      .container {
        padding: 10px;
      }
      h1 {
        font-size: 18px;
      }
      .card {
        padding: 12px;
      }
      .table-wrapper {
        margin-top: 6px;
      }
      table {
        font-size: 11px;
      }
      button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="christmas-bg-tree">ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„</div>
  <!-- ê¸°ì•„ ìŠ¤íƒ€ì¼ í—¤ë” -->
  <header class="header">
  <div class="header-center">
    <div class="header-title">íŠ¸ë¦¼2ë°˜ 12ì›” ì‘ì—… ìŠ¤ì¼€ì¤„ ì¡°íšŒ</div>
    <button class="today-btn-center" id="todayBtn">ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì´ë™</button>
  </div>
</header>

  <div class="container">
    <h1>íŠ¸ë¦¼ 2B 12ì›” ì‘ì—… ìŠ¤ì¼€ì¤„</h1>
    <div class="info">
      ê¸°ì¤€: 2025ë…„ 12ì›” 1ì¼(ì›”) ~ 12ì›” 31ì¼(ìˆ˜),<br>
      <b>ì¼ìš”ì¼ ë° íœ´ë¬´ì¼(12/12, 12/25) ì œì™¸</b>.<br />
    </div>

    <!-- 1. í•˜ë£¨ ì „ì²´ ìŠ¤ì¼€ì¤„ -->
    <div class="card">
      <h2>â‘  í•˜ë£¨ ì „ì²´ ìŠ¤ì¼€ì¤„ ë³´ê¸°</h2>
      <div>
        <label for="dateInput">ë‚ ì§œ ì„ íƒ</label><br>
        <input type="date" id="dateInput" />
        <span id="dateInputWeekday" class="weekday-label"></span>
      </div>
      <button id="showDayBtn">í•´ë‹¹ ë‚ ì§œ ìŠ¤ì¼€ì¤„ ë³´ê¸°</button>
      <div class="info">
        2025-12-01 ~ 2025-12-31 ì‚¬ì´ì˜ ë‚ ì§œë§Œ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
        <b>ì¼ìš”ì¼ê³¼ 12ì›” 12ì¼, 12ì›” 25ì¼ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.</b>
      </div>
      <div id="dailyWarning" class="warning" style="display:none;"></div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>ë‚ ì§œ</th>
              <th>ì´ë¦„</th>
              <th>1ë¼ìš´ë“œ</th>
              <th>2ë¼ìš´ë“œ</th>
              <th>3ë¼ìš´ë“œ</th>
              <th>4ë¼ìš´ë“œ</th>
            </tr>
          </thead>
          <tbody id="dailyTableBody">
            <!-- JSë¡œ ì±„ì›€ -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 2. ë‚ ì§œ + ë¼ìš´ë“œ + ì‘ì—…ëª… â†’ ë‹´ë‹¹ì ì°¾ê¸° -->
    <div class="card">
      <h2>â‘¡ ë‚ ì§œ + ë¼ìš´ë“œ + ì‘ì—…ëª…ìœ¼ë¡œ ë‹´ë‹¹ì ì°¾ê¸°</h2>
      <div style="margin-bottom:6px;">
        <label for="lookupDate">ë‚ ì§œ</label><br>
        <input type="date" id="lookupDate" />
        <span id="lookupDateWeekday" class="weekday-label"></span>
      </div>
      <div style="margin-bottom:6px;">
        <label for="lookupRound">ë¼ìš´ë“œ</label><br>
        <select id="lookupRound">
          <option value="1">1ë¼ìš´ë“œ</option>
          <option value="2">2ë¼ìš´ë“œ</option>
          <option value="3">3ë¼ìš´ë“œ</option>
          <option value="4">4ë¼ìš´ë“œ</option>
        </select>
      </div>
      <div style="margin-bottom:6px;">
        <label for="lookupTask">ì‘ì—…ëª…</label><br>
        <select id="lookupTask"></select>
      </div>
      <button id="lookupBtn">ë‹´ë‹¹ì ì°¾ê¸°</button>
      <div id="lookupWarning" class="warning" style="display:none;"></div>
      <div id="lookupResult" class="result"></div>
    </div>

    <!-- 3. ë‚ ì§œ + ì´ë¦„ â†’ ê°œì¸ 1~4ë¼ìš´ë“œ ì‘ì—… ë³´ê¸° -->
    <div class="card">
      <h2>â‘¢ ë‚ ì§œ + ì´ë¦„ìœ¼ë¡œ ê°œì¸ ì‘ì—… ë³´ê¸°</h2>
      <div style="margin-bottom:6px;">
        <label for="personDate">ë‚ ì§œ</label><br>
        <input type="date" id="personDate" />
        <span id="personDateWeekday" class="weekday-label"></span>
      </div>
      <div style="margin-bottom:6px;">
        <label for="personName">ì´ë¦„</label><br>
        <select id="personName"></select>
      </div>
      <button id="personBtn">ê°œì¸ ì‘ì—… ì¡°íšŒ</button>
      <div id="personWarning" class="warning" style="display:none;"></div>
      <div id="personResult" class="result"></div>
    </div>
  </div>

  <script>
    // ===== ê¸°ë³¸ ë°ì´í„° =====
    const names = [
      "ì„±í›ˆ","ì›ë¹ˆ","ê¸¸ìš´","ëŒ€í˜„","ì§„ì†”","ì„œì§„","ì´ìŠ¬","ë¯¼êµ­","ì„±ì²œ",
      "ì¶©í›ˆ","ê°‘ìˆ˜","ê¸°ë°±","ìš°ë¹ˆ","ìŠ¹í˜¸","ì›…ê¸°","í•™í˜„","ë²”ì„±","ì„±í•´",
      "ì‘ê·œ","ì˜í™˜","ìƒê±´","ì¬ë•","ì˜¥ì—°","ìˆ˜ì‹ ","ì˜¤ì±„","ì¢…ìµ","ìš©ë‚¨"
    ];

    const taskNames = [
      "LH Bí•„ë¼",
      "Lì—ì–´ë°±íˆ¬ì…",
      "2ì¡°1ë²ˆ",
      "LH Cí•„ë¼",
      "SKì£¼ìœ êµ¬",
      "ë©¤ë²„ì–´ìŠ¤",
      "LH Aí•„ë¼",
      "ë§ˆìŠ¤í„°ì‹¤ë¦°ë”",
      "ë„ì–´íƒˆê±°",
      "ë‚š1",
      "ë²”í¼ê°€ì´ë“œ",
      "2ì¡°2ë²ˆ",
      "ASì»¤ë²„",
      "LH ë£¨1",
      "LH ë£¨2",
      "RH Bí•„ë¼",
      "Rì—ì–´ë°±íˆ¬ì…",
      "RH Cí•„ë¼",
      "RH Aí•„ë¼",
      "í›„ë“œ",
      "3ì¡°1ë²ˆ",
      "í•˜ì´ë“œë¡œë‹‰ì²´ê²°",
      "ë‚š2",
      "ì—”ì§„ì–´ìŠ¤",
      "3ì¡°2ë²ˆ",
      "RH ë£¨1",
      "RH ë£¨2"
    ];
function createSnowflakes() {
  const snowCount = 40; // ëˆˆì†¡ì´ ê°œìˆ˜ (ì›í•˜ë©´ ëŠ˜ë ¤ë„ ë¨)
  for (let i = 0; i < snowCount; i++) {
    const span = document.createElement("span");
    span.className = "snowflake";
    span.textContent = "â„";

    // í™”ë©´ ëœë¤ ìœ„ì¹˜ & ì†ë„
    const startLeft = Math.random() * 100;       // 0 ~ 100 vw
    const duration = 8 + Math.random() * 7;      // 8~15ì´ˆ
    const delay = Math.random() * 10;            // 0~10ì´ˆ

    span.style.left = startLeft + "vw";
    span.style.animationDuration = duration + "s";
    span.style.animationDelay = delay + "s";

    document.body.appendChild(span);
  }
}
    const START_DATE = new Date(2025, 11, 1); // 2025-12-01
    const END_DATE   = new Date(2025, 11, 31);

    const HOLIDAYS = [
      "2025-12-12",
      "2025-12-25"
    ];

    const weekdayNames = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "];

    // ===== ìœ í‹¸: ë‚ ì§œ ì²˜ë¦¬ =====
    function pad2(n) {
      return n.toString().padStart(2, "0");
    }

    function formatDateISO(date) {
      return date.getFullYear() + "-" + pad2(date.getMonth() + 1) + "-" + pad2(date.getDate());
    }

    function parseDateInput(value) {
      if (!value) return null;
      const parts = value.split("-");
      if (parts.length !== 3) return null;
      const y = parseInt(parts[0], 10);
      const m = parseInt(parts[1], 10);
      const d = parseInt(parts[2], 10);
      if (isNaN(y) || isNaN(m) || isNaN(d)) return null;
      return new Date(y, m - 1, d);
    }

    function isSameDate(a, b) {
      return (
        a.getFullYear() === b.getFullYear() &&
        a.getMonth() === b.getMonth() &&
        a.getDate() === b.getDate()
      );
    }

    function formatKoreanWeekday(date) {
      if (!date) return "";
      const w = date.getDay();
      return "(" + weekdayNames[w] + ")";
    }

    function updateWeekdayLabel(inputId, labelId) {
      const val = document.getElementById(inputId).value;
      const date = parseDateInput(val);
      const label = document.getElementById(labelId);
      label.textContent = date ? formatKoreanWeekday(date) : "";
    }

    // ===== ê·¼ë¬´ì¼ ì¸ë±ìŠ¤ (ì›”~í†  + íœ´ë¬´ì¼ ì œì™¸) =====
    function getWorkDayIndex(targetDate) {
      if (targetDate < START_DATE || targetDate > END_DATE) return null;

      const targetText = formatDateISO(targetDate);
      if (HOLIDAYS.includes(targetText) || targetDate.getDay() === 0) {
        return null; // íœ´ë¬´ì¼/ì¼ìš”ì¼
      }

      let idx = -1;
      const d = new Date(START_DATE.getTime());

      while (d <= targetDate) {
        const dateText = formatDateISO(d);
        const isSunday = d.getDay() === 0;
        const isHoliday = HOLIDAYS.includes(dateText);

        if (!isSunday && !isHoliday) {
          idx++;
          if (isSameDate(d, targetDate)) {
            return idx;
          }
        }
        d.setDate(d.getDate() + 1);
      }
      return null;
    }

    // ===== í•˜ë£¨ ìŠ¤ì¼€ì¤„ ê³„ì‚° =====
    function getDailySchedule(targetDate) {
      const dateText = formatDateISO(targetDate);
      if (HOLIDAYS.includes(dateText) || targetDate.getDay() === 0) {
        return null;
      }

      const workIdx = getWorkDayIndex(targetDate);
      if (workIdx === null) return null;

      const rows = [];
      for (let i = 0; i < names.length; i++) {
        const person = names[i];
        const rounds = [];
        for (let t = 0; t < 4; t++) {
          const taskIdx = (i + workIdx * 4 + t) % taskNames.length;
          rounds.push(taskNames[taskIdx]);
        }
        rows.push({ person, rounds });
      }
      return rows;
    }

    // ===== â‘  í•˜ë£¨ ì „ì²´ ìŠ¤ì¼€ì¤„ =====
    function renderDailySchedule() {
      const input = document.getElementById("dateInput").value;
      const date = parseDateInput(input);
      const warningEl = document.getElementById("dailyWarning");
      const tbody = document.getElementById("dailyTableBody");
      tbody.innerHTML = "";
      warningEl.style.display = "none";
      warningEl.textContent = "";

      updateWeekdayLabel("dateInput", "dateInputWeekday");

      if (!date) {
        warningEl.style.display = "block";
        warningEl.textContent = "ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.";
        return;
      }

      const dateText = formatDateISO(date);
      const schedule = getDailySchedule(date);
      if (!schedule) {
        warningEl.style.display = "block";
        if (date < START_DATE || date > END_DATE) {
          warningEl.textContent = "2025-12-01 ~ 2025-12-31 ì‚¬ì´ ë‚ ì§œë§Œ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
        } else if (date.getDay() === 0) {
          warningEl.textContent = "ì¼ìš”ì¼ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.";
        } else if (HOLIDAYS.includes(dateText)) {
          warningEl.textContent = "ì§€ì •ëœ íœ´ë¬´ì¼(12/12, 12/25)ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.";
        } else {
          warningEl.textContent = "í•´ë‹¹ ë‚ ì§œì˜ ì‘ì—… ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        }
        return;
      }

      schedule.forEach(row => {
        const tr = document.createElement("tr");
        const tdDate = document.createElement("td");
        const tdName = document.createElement("td");
        tdDate.textContent = input;
        tdName.textContent = row.person;
        tr.appendChild(tdDate);
        tr.appendChild(tdName);
        row.rounds.forEach(r => {
          const td = document.createElement("td");
          td.textContent = r;
          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      });
    }

    // ===== â‘¡ ë‚ ì§œ + ë¼ìš´ë“œ + ì‘ì—…ëª… â†’ ë‹´ë‹¹ì =====
    function findPersonByDateRoundTask() {
      const dateVal = document.getElementById("lookupDate").value;
      const roundVal = document.getElementById("lookupRound").value;
      const taskVal = document.getElementById("lookupTask").value;
      const warningEl = document.getElementById("lookupWarning");
      const resultEl = document.getElementById("lookupResult");

      warningEl.style.display = "none";
      warningEl.textContent = "";
      resultEl.textContent = "";

      updateWeekdayLabel("lookupDate", "lookupDateWeekday");

      const date = parseDateInput(dateVal);
      if (!date) {
        warningEl.style.display = "block";
        warningEl.textContent = "ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.";
        return;
      }

      const dateText = formatDateISO(date);
      const round = parseInt(roundVal, 10);
      if (isNaN(round) || round < 1 || round > 4) {
        warningEl.style.display = "block";
        warningEl.textContent = "ë¼ìš´ë“œëŠ” 1~4 ì¤‘ì—ì„œ ì„ íƒí•´ì£¼ì„¸ìš”.";
        return;
      }

      const schedule = getDailySchedule(date);
      if (!schedule) {
        warningEl.style.display = "block";
        if (date < START_DATE || date > END_DATE) {
          warningEl.textContent = "2025-12-01 ~ 2025-12-31 ì‚¬ì´ ë‚ ì§œë§Œ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
        } else if (date.getDay() === 0) {
          warningEl.textContent = "ì¼ìš”ì¼ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.";
        } else if (HOLIDAYS.includes(dateText)) {
          warningEl.textContent = "ì§€ì •ëœ íœ´ë¬´ì¼(12/12, 12/25)ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.";
        } else {
          warningEl.textContent = "í•´ë‹¹ ë‚ ì§œì˜ ì‘ì—… ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        }
        return;
      }

      let found = null;
      schedule.forEach(row => {
        if (row.rounds[round - 1] === taskVal) {
          found = row.person;
        }
      });

      if (found) {
        resultEl.innerHTML = `ë‹´ë‹¹ì: <span class="name">${found}</span>`;
      } else {
        resultEl.textContent = "í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ë‹´ë‹¹ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
      }
    }

    // ===== â‘¢ ë‚ ì§œ + ì´ë¦„ â†’ ê°œì¸ ì‘ì—… =====
    function showPersonSchedule() {
      const dateVal = document.getElementById("personDate").value;
      const nameVal = document.getElementById("personName").value;
      const warningEl = document.getElementById("personWarning");
      const resultEl = document.getElementById("personResult");

      warningEl.style.display = "none";
      warningEl.textContent = "";
      resultEl.textContent = "";

      updateWeekdayLabel("personDate", "personDateWeekday");

      const date = parseDateInput(dateVal);
      if (!date) {
        warningEl.style.display = "block";
        warningEl.textContent = "ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.";
        return;
      }

      const dateText = formatDateISO(date);
      const schedule = getDailySchedule(date);
      if (!schedule) {
        warningEl.style.display = "block";
        if (date < START_DATE || date > END_DATE) {
          warningEl.textContent = "2025-12-01 ~ 2025-12-31 ì‚¬ì´ ë‚ ì§œë§Œ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
        } else if (date.getDay() === 0) {
          warningEl.textContent = "ì¼ìš”ì¼ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.";
        } else if (HOLIDAYS.includes(dateText)) {
          warningEl.textContent = "ì§€ì •ëœ íœ´ë¬´ì¼(12/12, 12/25)ì€ ì‘ì—…ì´ ì—†ìŠµë‹ˆë‹¤.";
        } else {
          warningEl.textContent = "í•´ë‹¹ ë‚ ì§œì˜ ì‘ì—… ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        }
        return;
      }

      const row = schedule.find(r => r.person === nameVal);
      if (!row) {
        warningEl.style.display = "block";
        warningEl.textContent = "í•´ë‹¹ ì´ë¦„ì˜ ì‘ì—… ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        return;
      }

      const [r1, r2, r3, r4] = row.rounds;
      resultEl.innerHTML = `
        <div>${dateVal} ${formatKoreanWeekday(date)} / <span class="name">${nameVal}</span> ì‘ì—…</div>
        <div>1ë¼ìš´ë“œ: ${r1}</div>
        <div>2ë¼ìš´ë“œ: ${r2}</div>
        <div>3ë¼ìš´ë“œ: ${r3}</div>
        <div>4ë¼ìš´ë“œ: ${r4}</div>
      `;
    }

    // ===== ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì´ë™ =====
    function goToToday() {
      const today = new Date();
      // ì˜¤ëŠ˜ì´ 2025-12ì›”ì´ ì•„ë‹ˆë©´, ìŠ¤ì¼€ì¤„ ê¸°ê°„ì˜ ì‹œì‘ì¼ë¡œ ì´ë™
      let target = today;
      if (today < START_DATE || today > END_DATE) {
        target = new Date(START_DATE.getTime());
      }
      const iso = formatDateISO(target);

      document.getElementById("dateInput").value = iso;
      document.getElementById("lookupDate").value = iso;
      document.getElementById("personDate").value = iso;

      updateWeekdayLabel("dateInput", "dateInputWeekday");
      updateWeekdayLabel("lookupDate", "lookupDateWeekday");
      updateWeekdayLabel("personDate", "personDateWeekday");

      // ì˜¤ëŠ˜ ê¸°ì¤€ìœ¼ë¡œ ì „ì²´ ìŠ¤ì¼€ì¤„ ë°”ë¡œ ë³´ì—¬ì£¼ê¸°
      renderDailySchedule();
      // ë‚˜ë¨¸ì§€ ê²°ê³¼ëŠ” ê·¸ëŒ€ë¡œ ë‘ê±°ë‚˜ í•„ìš”ì‹œ ì´ˆê¸°í™” ê°€ëŠ¥
    }

    // ===== ì´ˆê¸° ì„¸íŒ… =====
    function init() 
    {
  const dateInput = document.getElementById("dateInput");
  const lookupDate = document.getElementById("lookupDate");
  const personDate = document.getElementById("personDate");
  const todayBtn = document.getElementById("todayBtn");

  // ... ê¸°ì¡´ ì´ˆê¸°í™” ì½”ë“œë“¤ ...

  // ì²˜ìŒ ë¡œë“œì‹œ í•œ ë²ˆ ê·¸ë ¤ì£¼ê¸°
  renderDailySchedule();

  // ğŸ„ ëˆˆ ë‚´ë¦¬ê¸° ì‹œì‘
  createSnowflakes();
}{
      const dateInput = document.getElementById("dateInput");
      const lookupDate = document.getElementById("lookupDate");
      const personDate = document.getElementById("personDate");
      const todayBtn = document.getElementById("todayBtn");

      // ê¸°ë³¸ ë‚ ì§œ 12/1 ì„¸íŒ…
      dateInput.value = "2025-12-01";
      lookupDate.value = "2025-12-01";
      personDate.value = "2025-12-01";

      updateWeekdayLabel("dateInput", "dateInputWeekday");
      updateWeekdayLabel("lookupDate", "lookupDateWeekday");
      updateWeekdayLabel("personDate", "personDateWeekday");

      // ì‘ì—…ëª… ë“œë¡­ë‹¤ìš´
      const taskSelect = document.getElementById("lookupTask");
      taskNames.forEach(name => {
        const opt = document.createElement("option");
        opt.value = name;
        opt.textContent = name;
        taskSelect.appendChild(opt);
      });

      // ì´ë¦„ ë“œë¡­ë‹¤ìš´
      const personSelect = document.getElementById("personName");
      names.forEach(name => {
        const opt = document.createElement("option");
        opt.value = name;
        opt.textContent = name;
        personSelect.appendChild(opt);
      });

      // ì´ë²¤íŠ¸ ì—°ê²°
      document.getElementById("showDayBtn").addEventListener("click", renderDailySchedule);
      document.getElementById("lookupBtn").addEventListener("click", findPersonByDateRoundTask);
      document.getElementById("personBtn").addEventListener("click", showPersonSchedule);
      todayBtn.addEventListener("click", goToToday);

      dateInput.addEventListener("change", () => updateWeekdayLabel("dateInput", "dateInputWeekday"));
      lookupDate.addEventListener("change", () => updateWeekdayLabel("lookupDate", "lookupDateWeekday"));
      personDate.addEventListener("change", () => updateWeekdayLabel("personDate", "personDateWeekday"));

      // ì²˜ìŒ ë¡œë“œì‹œ í•œ ë²ˆ ê·¸ë ¤ì£¼ê¸°
      renderDailySchedule();
    }

    window.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
